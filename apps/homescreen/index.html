<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="style/request.css"/>
    <link rel="stylesheet" type="text/css" href="style/homescreen.css"/>
    <link rel="stylesheet" type="text/css" href="style/grid.css"/>
    <link rel="stylesheet" type="text/css" href="style/dragdrop.css"/>
    <link rel="stylesheet" type="text/css" href="style/dock.css"/>
    <link rel="stylesheet" type="text/css" href="style/search.css"/>
    <link rel="stylesheet" type="text/css" href="everything.me/style/etm.css"/>

    <!-- Shared code -->
    <script type="text/javascript" src="shared/js/l10n.js"></script>

    <!-- Specific code -->
    <script type="text/javascript" defer src="js/request.js"></script>
    <script type="text/javascript" defer src="js/bookmark.js"></script>
    <script type="text/javascript" defer src="js/appmanager.js"></script>
    <script type="text/javascript" defer src="js/state.js"></script>
    <script type="text/javascript" defer src="js/page.js"></script>
    <script type="text/javascript" defer src="js/pagbar.js"></script>
    <script type="text/javascript" defer src="js/dock.js"></script>
    <script type="text/javascript" defer src="js/grid.js"></script>
    <script type="text/javascript" defer src="js/dragdrop.js"></script>
    <!--script type="text/javascript" defer src="js/search.js"></script-->
    <script type="text/javascript" defer src="everything.me/js/etmmanager.js"></script>
    <script type="text/javascript" defer src="js/homescreen.js"></script>
  </head>

  <body data-mode="normal">
    <div id="overlay" class="onAppGrid"></div>

    <header id="paginationBar">
      <div class="paginationScroller" role="slider" aria-valuemin="0" aria-valuenow="0" aria-valuemax="0" aria-controls="icongrid"></div>
    </header>

    <div id="icongrid" class="apps" role="main">
      <div id="etmPage">
        <div id="etmWidget">
            <div id="etmInstApp">imdb</div>
        </div>
      </div>
    </div>
    
    <style>
        #etmWidget {
            padding: 20px;
        }
        #etmInstApp{
            border-radius: 50%;
            color: white;
            background: blue;
            width: 44px;
            height: 44px;
            line-height: 44px;
            text-align: center;
        }
    </style>
    
    <script>
        var etmInstApp = document.getElementById("etmInstApp");
        etmInstApp.addEventListener("click", function() {
            var data = JSON.stringify({
                "type": "add-bookmark",
                "data": {
                    "url": "http://imdb.com",
                    "title": "imdb",
                    "icon": "whatever.jpg"
                }
            });
            window.top.postMessage(data, "*");
        }, false);
    </script>

    <footer id="footer">
      <div class="dockWrapper"></div>
    </footer>
  </body>
</html>
